<%- include('partials/header.ejs') %>

<div class="container pt-5 pb-5">

    <div class="p-3 text-center text-white bg-secondary">
        <h1>Update Post</h1>
    </div>
    <div class="row justify-content-center">
        <div class="col-lg-8 pt-5">
            <% if(error !== ''){ %>
                <div class="alert alert-danger text-center pt-5 pb-4" role="alert">
                    <strong> Error ! </strong> <%= error %>
                  </div>
            <% } %>
            <% blog.forEach ((blog)=>{ %>

            <form action="/post/update/<%=blog.id%>?_method=PUT"  method="post">
                <div class="mb-4">
                    <label for="id" class="form-label">Post Id</label>
                    <input type="text" name="id" class="form-control" value="<%=blog.id%>" readonly  id="title" aria-describedby="emailHelp">
                </div>
                <div class="mb-4">
                    <label for="title" class="form-label">Post Title</label>
                    <input type="text" name="title" class="form-control" value="<%=blog.title%>" required id="title" aria-describedby="emailHelp">
                </div>
                <div class="mb-4">
                    <label for="description" class="form-label">Post Description</label>
                    <textarea name="description" class="form-control" id="desc" rows="3" required><%=blog.description%></textarea>
                  </div>
                <button type="submit" class="btn btn-primary">Update</button>
                <button type="reset" class="btn btn-warning">Clear</button>
                <a class="btn btn-danger" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" href="/delete/<%=blog.id%>">Delete</a>

                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                      <div class="modal-content">
                        <div class="modal-header border-0">
                          <h5 class="modal-title" id="exampleModalLabel">Delete Post</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to Delete Post
                        </div>
                        <div class="modal-footer border-0">
                          <button type="button" class="btn btn-warning" data-bs-dismiss="modal">No</button>
                          <a href="/delete/<%=blog.id%>" class="btn btn-danger">Yes</a>
                        </div>
                      </div>
                    </div>
                  </div>
            </form>
            <% }) %>
        </div>
    </div>
</div>


<%- include('partials/footer.ejs') %>